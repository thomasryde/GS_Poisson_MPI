rm -f *.o main
mpicc -lm -fopenmp -c main.c -I. -O3 -march=native
mpicc -lm -fopenmp -c alloc3d.c -I. -O3 -march=native
mpicc -lm -fopenmp -c Checks.c -I. -O3 -march=native
mpicc -lm -fopenmp -c HelperFunctions.c -I. -O3 -march=native
mpicc -lm -fopenmp -c InitArrays.c -I. -O3 -march=native
mpicc -lm -fopenmp -o main main.o alloc3d.o Checks.o HelperFunctions.o InitArrays.o 
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 100 100 0 8 2>&1 > data/100_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 100 100 0 8 2>&1 > data/100_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 99 100 0 8 2>&1 > data/99_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 100 100 0 8 2>&1 > data/100_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 100 100 0 8 2>&1 > data/100_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 96 100 0 8 2>&1 > data/96_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 98 100 0 8 2>&1 > data/98_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 96 100 0 8 2>&1 > data/96_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 99 100 0 8 2>&1 > data/99_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 100 100 0 8 2>&1 > data/100_p100_8
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 500 20 0 8 2>&1 > data/500_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 500 20 0 8 2>&1 > data/500_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 498 20 0 8 2>&1 > data/498_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 500 20 0 8 2>&1 > data/500_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 500 20 0 8 2>&1 > data/500_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 498 20 0 8 2>&1 > data/498_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 497 20 0 8 2>&1 > data/497_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 496 20 0 8 2>&1 > data/496_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 495 20 0 8 2>&1 > data/495_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 500 20 0 8 2>&1 > data/500_p100_8
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 999 5 0 8 2>&1 > data/999_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 996 5 0 8 2>&1 > data/996_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 994 5 0 8 2>&1 > data/994_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 999 5 0 8 2>&1 > data/999_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1000 5 0 8 2>&1 > data/1000_p100_8
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1498 5 0 8 2>&1 > data/1498_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1496 5 0 8 2>&1 > data/1496_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1494 5 0 8 2>&1 > data/1494_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1500 5 0 8 2>&1 > data/1500_p100_8
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1998 5 0 8 2>&1 > data/1998_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1998 5 0 8 2>&1 > data/1998_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1995 5 0 8 2>&1 > data/1995_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 1998 5 0 8 2>&1 > data/1998_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2000 5 0 8 2>&1 > data/2000_p100_8
mpirun -np 1 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2500 5 0 8 2>&1 > data/2500_p1_8
mpirun -np 4 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2500 5 0 8 2>&1 > data/2500_p4_8
mpirun -np 9 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2499 5 0 8 2>&1 > data/2499_p9_8
mpirun -np 16 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2500 5 0 8 2>&1 > data/2500_p16_8
mpirun -np 25 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2500 5 0 8 2>&1 > data/2500_p25_8
mpirun -np 36 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2496 5 0 8 2>&1 > data/2496_p36_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2499 5 0 8 2>&1 > data/2499_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2496 5 0 8 2>&1 > data/2496_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2493 5 0 8 2>&1 > data/2493_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2500 5 0 8 2>&1 > data/2500_p100_8
mpirun -np 49 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2996 5 0 8 2>&1 > data/2996_p49_8
mpirun -np 64 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 3000 5 0 8 2>&1 > data/3000_p64_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 2997 5 0 8 2>&1 > data/2997_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 3000 5 0 8 2>&1 > data/3000_p100_8
mpirun -np 81 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 3492 5 0 8 2>&1 > data/3492_p81_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 3500 5 0 8 2>&1 > data/3500_p100_8
mpirun -np 100 --map-by dist:span --mca rmaps_dist_device ib0 --report-bindings ./main 4000 5 0 8 2>&1 > data/4000_p100_8

------------------------------------------------------------
Sender: LSF System <lsfadmin@hpc.dtu.dk>
Subject: Job 9626143: <profiling> in cluster <dcc> Done

Job <profiling> was submitted from host <n-62-27-20> by user <s163955> in cluster <dcc> at Mon May 10 11:19:50 2021
Job was executed on host(s) <24*n-62-21-74>, in queue <hpcintro>, as user <s163955> in cluster <dcc> at Mon May 10 11:19:51 2021
                            <24*n-62-21-78>
                            <24*n-62-21-76>
                            <24*n-62-21-75>
                            <24*n-62-21-77>
</zhome/8a/6/118525> was used as the home directory.
</zhome/8a/6/118525/Desktop/Large_Scale_Modelling/Poisson_Problem_MPI> was used as the working directory.
Started at Mon May 10 11:19:51 2021
Terminated at Mon May 10 11:44:20 2021
Results reported at Mon May 10 11:44:20 2021

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
# --- specify queue
#BSUB -q hpcintro
# --- asking for number of cores
#BSUB -n 120
# --- reserving N cores on each machine up to the total number cores requested
#BSUB -R "span[block=24]"
# --- Wall time
#BSUB -W 00:40
# --- Specify that we need X GB of memory per core/slot
#BSUB -R "rusage[mem=10GB]"
#BSUB -J profiling
#BSUB -e Error_%J.err

module purge
module load mpi/3.1.3-gcc-8.2.0

# do a clean build to ensure everything is updated
make clean
make CFLAGS="-O3 -march=native"

tol=0

# Loop matrix size
for N_n in 100 500 1000 1500 2000 2500 3000 3500 4000
do

if [[ $N_n -lt 200 ]]
then
    iter=100
elif [[ $N_n -lt 1000 ]]
then
    iter=20
else
    iter=5
fi

# Loop px
all_p="1 4 8 16 25 36 49 64 81 100" # start at 1? end at 100?
if [[ $N_n -lt 2750 ]]
then
    all_p_sqr="1 2 3 4 5 6 7 8 9 10"    # squared number of processes
elif [[ $N_n -lt 3250 ]]
then
    all_p_sqr="7 8 9 10"
elif [[ $N_n -lt 3750 ]]
then
    all_p_sqr="9 10"
else
    all_p_sqr="10"

(... more ...)
------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   51220.02 sec.
    Max Memory :                                 988838 MB
    Average Memory :                             134370.00 MB
    Total Requested Memory :                     1228800.00 MB
    Delta Memory :                               239962.00 MB
    Max Swap :                                   31 MB
    Max Processes :                              33
    Max Threads :                                175
    Run time :                                   1469 sec.
    Turnaround time :                            1470 sec.

The output (if any) is above this job summary.



PS:

Read file <Error_9626143.err> for stderr output of this job.

